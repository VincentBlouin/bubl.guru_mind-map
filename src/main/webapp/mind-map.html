<!DOCTYPE html>
<html lang="en-au">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="css/twitter_bootstrap/bootstrap.min.css"/>
    <link rel="stylesheet" href="css/twitter_bootstrap/bootstrap-responsive.min.css"/>
    <link rel="stylesheet" href="css/jquery/jquery-ui-10-2/jquery-ui.min.css"/>
    <link rel="stylesheet" href="css/jquery/colorbox/colorbox.css"/>
    <link rel="stylesheet" href="css/application.css"/>
    <link rel="stylesheet" href="css/graph_displayers/relative_tree_displayer.css"/>
    <link rel="stylesheet" href="font-awesome-4.0.3/css/font-awesome.min.css">

    <!--Vertices list module-->
    <link rel="stylesheet" href="module/mind_map/vertices_list/vertices_list.css"/>

    <script src="js/vendor/crow.micro.js"></script>
    <script src="js/vendor/polyk.js"></script>
    <script src="js/require.js"></script>
</head>
<body class='canvas-parent hidden'>
    <div id="other-page-container" class='hidden'></div>
    <div id="mind_map" data-role="page" data-url="mind-map.html">
        <div data-role="content">
            <div id="left-panel" class="main-panel">
                <h2 data-i18n="left_menu.search"></h2>
                <div class="ui-widget">
                    <label for="vertex-search-input"></label>
                    <input id="vertex-search-input"/>
                </div>
            </div>
            <button id="toggle-left-panel-collapse" class="link-like-button">
                <<
            </button>
            <div id="drawn_graph"></div>
            <div id="bottom-center-panel" class="main-panel">
                <span data-i18n="caption.title"></span>:
                <div class="private legend" data-i18n="caption.private"></div>
                <div class="public legend" data-i18n="caption.public"></div>
            </div>
            <div id="top-center-menu" class="main-panel top-panel">
                <div id="graph-elements-selected" class="hidden">
                    <span class='nb'></span>
                    <span data-i18n='selection.selected_graph_elements'></span>
                </div>
            </div>
            <div id="top-panel" class="main-panel top-panel">
                <button id="create-concept" class="link-like-button"
                        data-i18n="top_menu.create_concept"></button>
                <button id="disconnect-btn"
                        data-i18n="top_menu.disconnect"
                        class="link-like-button"></button>
            </div>
            <div id="graph-element-menu" class="main-panel">
                <button data-action="select" data-icon="fa-square-o"></button>
                <button data-action="group" data-icon="fa-compress"></button>
                <button data-action="addChild" data-icon="fa-plus"></button>
                <button data-action="identify" data-icon="fa-info-circle"></button>
                <button data-action="reverseToRight" data-icon="fa-share"></button>
                <button data-action="reverseToLeft" data-icon="fa-reply"></button>
                <button data-action="suggestions" data-icon="fa-lightbulb-o" class='suggestion'></button>
                <button data-action="subElements" data-icon="fa-expand"></button>
                <button data-action="center" data-icon="fa-bullseye"></button>
                <button data-action="note" data-icon="fa-book" class='note-button'></button>
                <button data-action="images" data-icon="fa-picture-o"></button>
                <button data-action="connectTo" data-icon="fa-long-arrow-right"></button>
                <button data-action="makePrivate" data-icon="fa-unlock"></button>
                <button data-action="makePublic" data-icon="fa-lock"></button>
                <button data-action="remove" data-icon="fa-trash-o"></button>
            </div>
        </div>
    </div>
    <div class='frontier left'></div>
    <div class='frontier right'></div>
    <div class='frontier top'></div>
    <div class='frontier bottom'></div>
    <div id="selection-box" class='hidden'></div>
    <script>
        loadDebugOrProdScripts();
        function loadDebugOrProdScripts(){
            callAjax("/service/server_config/", function(response){
                var serverConfig = JSON.parse(response);
                if(serverConfig.isTesting){
                    addJs("js/common-boot.js");
                    addJs("js/mind_map-boot.js");
                }else{
                    addJs("js/mind-map-built.js");
                }
            });
            function addJs(filePath){
                var scriptTag = document.createElement('script');
                scriptTag.setAttribute("src", filePath);
                document.getElementsByTagName("head")[0].appendChild(
                        scriptTag
                );
            }
            function callAjax(url, callback){
                var xmlhttp;
                xmlhttp = new XMLHttpRequest();
                xmlhttp.onreadystatechange = function(){
                    if (xmlhttp.readyState == 4 && xmlhttp.status == 200){
                        callback(xmlhttp.responseText);
                    }
                };
                xmlhttp.open("GET", url, true);
                xmlhttp.send();
            }
        }
    </script>
</body>
</html>